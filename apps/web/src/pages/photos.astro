---
import { readImages } from "@/helpers/read-images";
import Layout from "@/layouts/Layout.astro";
import { Masonry } from "astro-masonry";
import { Image } from "astro:assets";

const images = readImages("public/images/photos", /\.jpg$/);
---

<Layout
  title="Photos"
  description="Some of the photos that I've taken. All of the photos are taken using a 56mm f/1.8 lens from TTArtisan."
  url="https://ekel.dev/photos"
>
  <div
    class:list={[
      "flex w-full flex-col items-start justify-start",
      "md:text-start",
    ]}
  >
    <Masonry
      breakpointCols={{
        default: 4,
        1200: 3,
        700: 2,
        500: 1,
      }}
      class="flex gap-4 px-4"
      columnClass=""
    >
      {
        images.map((image) => (
          <Image
            width={1440}
            height={1080}
            quality={100}
            draggable={false}
            layout="constrained"
            format="avif"
            src={image.path}
            alt={image.fileName}
            class="photos mt-0! mb-4! rounded-md h-full! border-none! w-full! object-cover"
          />
        ))
      }
    </Masonry>
  </div>
</Layout>

<style>
  .dynamic-masonry {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-auto-rows: max-content;
    gap: 20px;
  }

  .masonry-item {
    border-radius: 0.75rem;
    overflow: hidden;
    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease-in-out;
  }

  .masonry-item:hover {
    transform: translateY(-2px);
  }
</style>
