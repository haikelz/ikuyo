---
import Card from "@/components/Card.astro";
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

const [notesList, worksList] = await Promise.all([
  await getCollection("notes"),
  await getCollection("works"),
]);

const experienceList = [
  {
    company: "Undisclosed",
    position: "Backend Developer",
    startDate: "Sep 2025",
    endDate: "Present",
    tasks: [
      "Currently working at a Subholding Company.",
      "Working with Golang and Docker ecosystem, also do some DevOps stuff.",
    ],
  },
  {
    company: "Linkupcareer.id",
    position: "IT Staff",
    startDate: "April 2025",
    endDate: "December 2025",
    tasks: [
      "Managing HRM (OrangeHRM), LMS (Moodle), Internal Email, VPS, and other internal tools.",
      "Conducted user interviews for internship candidates, while also evaluating each candidate's technical, communication, and management skills.",
    ],
  },

  {
    company: "Puskesmas Pangkalbalam",
    position: "Software Developer",
    startDate: "Mar 2025",
    endDate: "Jul 2025",
    tasks: [
      "Working on a lung patient management system named SOBAT HEBAT (Sistem Informasi Pengobatan Agar Tubuh Sehat Bebas TBC) using Next JS an Nest JS.",
      "Implemented monorepo concept for the Frontend side using Nx also its remote caching using Nx Cloud, Error monitoring using Sentry, and Backend API Monitoring using Prometheus + Grafana.",
      "Implemented Progressive Web App (PWA) to make the Website easier to use and more accessible by elderly users.",
      "Wrote unit testing for the Frontend side using Vitest.",
      "Set up code formatting and linting tools like Biome, also wrote Docker multistage build configuration.",
    ],
  },
  {
    company: "Dibimbing.id",
    position: "Fullstack Engineer",
    startDate: "Sep 2024",
    endDate: "Dec 2024",
    tasks: [
      "Assisted Dibimbing Tech Team in creating an academic system for Cakrawala University.",
      "Conducted research with colleagues and advised Dibimbing Tech Team on the selection of the backend stack between Node.js and Golang for the Cakrawala University project based on some use cases.",
      "Constructed the Frontend and Backend of the project using Next JS and Go Fiber.",
      "Set up code formatting and linting tools like ESLint and Prettier, also wrote Docker multistage build configuration for the Frontend side.",
      "Played a key role in developing the shortlist registration, biodata, admin biodata verification, and maintenance condition features.",
    ],
  },
  {
    company: "Infinite Learning",
    position: "Web Development & UI/UX Design",
    startDate: "Feb 2024",
    endDate: "Jun 2024",
    tasks: [
      "Responsible as a Programmer to do market research, conducted business analysis, performed usability testing.",
      "Constructed the Frontend and Backend of the project from scratch using React JS (Frontend) and Express JS (Backend).",
      "Assisted colleagues in troubleshooting Javascript and React JS-related issues.",
    ],
  },
  {
    company: "Undisclosed",
    position: "Frontend Web Developer",
    startDate: "Nov 2023",
    endDate: "Dec 2023",
    tasks: [
      "Responsible for handling, fixing bugs, and developing requested features to the existing dashboard. The dashboard was created using React JS, Tailwind CSS, and Context API.",
      "Improve the performance of the dashboard and remove unused or redundant code.",
    ],
  },
  {
    company: "We Up Indonesia",
    position: "Frontend Web Developer",
    startDate: "Oct 2022",
    endDate: "Dec 2022",
    tasks: [
      "Responsible for slicing and building a company profile Website for We Up using Next JS, Typescript, Tailwind CSS, and AOS.",
      "Write documentation about the project and collaborate with other divisions.",
    ],
  },
];
---

<Layout
  title="Haikel Ilham Hakim"
  description="Software Developer"
  url="https://ekel.dev"
>
  <div
    class:list={[
      "flex w-full flex-col items-start justify-start",
      "md:text-start",
    ]}
  >
    <section class="w-full slide-enter-content m-0! p-0!">
      <div class="relative w-full m-0! p-0!">
        <div
          class="relative w-full rounded-md rounded-b-none h-32 sm:h-40 md:h-52 lg:h-64 p-0! m-0!"
        >
          <img
            src="/images/banner-linkedin.png"
            alt="Profile Banner"
            class="w-full h-full object-bottom object-fill sm:object-cover p-0! m-0! rounded-b-none!"
          />
        </div>

        <div class="w-full px-4 md:pl-8 md:pr-8">
          <div
            class="relative -mt-12 sm:-mt-16 md:-mt-20 p-0! lg:-mt-24 mb-4 flex flex-row items-end justify-between"
          >
            <div class="flex items-center p-0! m-0!">
              <img
                src="https://avatars.githubusercontent.com/u/77146709?v=4"
                alt="Haikel Ilham Hakim"
                class="w-20 p-0! m-0! h-20 sm:w-28 sm:h-28 md:w-36 md:h-36 lg:w-40 lg:h-40 rounded-full! mb-0! border-4 border-gray-900 object-cover bg-white shadow-lg"
              />
            </div>
            <div class="sm:flex items-end justify-end hidden">
              <h2
                class="text-sm sm:text-lg md:text-xl font-semibold mb-0 mt-0 text-right"
              >
                Fortis Fortuna Adiuvat
              </h2>
            </div>
          </div>

          <div class="mb-4">
            <h1
              data-cy="name"
              class="text-2xl sm:text-3xl md:text-3xl lg:text-4xl font-bold mb-2 mt-0"
            >
              Haikel Ilham Hakim
            </h1>
            <p
              class="text-lg sm:text-xl md:text-xl lg:text-xl text-gray-400 mb-2 mt-0"
            >
              Product Engineer
            </p>
            <p
              class="text-sm sm:text-base md:text-base lg:text-base text-gray-500 mb-0 mt-0"
            >
              Bogor, Indonesia
            </p>
          </div>

          <div class="w-full mb-4 md:mb-0">
            <p data-cy="description" class="leading-relaxed text-justify">
              Konnichiwa! I'm Haikel Ilham Hakim. You can call me <b
                >Haikel/Kel/Ekel</b
              > with the
              <b>"E"</b> pronounce is <b>"Emas"</b>. I'm a Software Developer
              based in Indonesia and familiar <b
                >with javascript/typescript/go</b
              >. Outside of programming, I enjoy doing photography, DIY (Do It
              Yourself) works, and learn something new. Currently, I deep dive
              into Go, DevOps, Finance, also how to deal and manage people. <a
                href="https://www.linkedin.com/in/haikel/"
                target="_blank"
                rel="noopener noreferrer"
                class="text-blue-400 hover:underline">Linkedin</a
              >,
              <a
                href="https://github.com/haikelz"
                target="_blank"
                rel="noopener noreferrer"
                class="text-blue-400 hover:underline">Github</a
              >
            </p>
          </div>
        </div>
      </div>
    </section>
    <section data-cy="experience" class="mt-8 w-full slide-enter-content">
      <h2 class="mb-6 mt-0 font-extrabold">Experience</h2>
      <div class="space-y-5 slide-enter-content">
        {
          experienceList.map((experience) => (
            <div>
              <div class="flex w-full flex-col items-start justify-start sm:flex-row sm:items-center sm:justify-between">
                <h3 class="mb-0 mt-0">{experience.company}</h3>
                <span class="mt-1.5 rounded-xs text-base font-semibold sm:mt-0">
                  {experience.startDate} - {experience.endDate}
                </span>
              </div>
              <p class="mb-0 mt-3 sm:mt-1">{experience.position}</p>
              <ul class="mt-3! space-y-0! text-justify list-disc list-outside pl-[1.1rem]!">
                {experience.tasks.map((task) => (
                  <li>
                    <p class="my-0!">{task}</p>
                  </li>
                ))}
              </ul>
            </div>
          ))
        }
      </div>
    </section>
    <section data-cy="featured-works" class="mt-8 w-full slide-enter-content">
      <h2 class="mt-0 mb-6 font-extrabold">Featured Works</h2>
      <div
        class="grid w-full grid-cols-1 grid-rows-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 slide-enter-content"
      >
        {
          worksList
            .sort((a, b) => a.data.id - b.data.id)
            .slice(0, 6)
            .map((item) => (
              <Card
                title={item.data.title}
                description={item.data.description}
                thumbnail={item.data.thumbnail}
                type="works"
                slug={item.slug}
                tags={item.data.stack}
              />
            ))
        }
      </div>
    </section>
    <section data-cy="featured-notes" class="mt-8 w-full">
      <h2 class="mt-0 mb-6 font-extrabold">Latest Notes</h2>
      <div
        class="grid w-full grid-cols-1 grid-rows-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"
      >
        {
          notesList
            .sort(
              (a, b) =>
                new Date(b.data.created_at).getTime() -
                new Date(a.data.created_at).getTime()
            )
            .slice(0, 6)
            .map((item) => (
              <Card
                title={item.data.title}
                description={item.data.description}
                slug={item.slug}
                createdAt={item.data.created_at}
                tags={item.data.tags}
                type="notes"
              />
            ))
        }
      </div>
    </section>
  </div>
</Layout>
