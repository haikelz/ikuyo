---
import Card from "@/components/Card.astro";
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

const [notesList, worksList] = await Promise.all([
  await getCollection("notes"),
  await getCollection("works"),
]);

const experienceList = [
  {
    company: "Undisclosed",
    position: "Backend Developer",
    startDate: "Sep 2025",
    endDate: "Present",
    tasks: [
      "Currently working at a Subholding Company.",
      "Working with Golang and Docker ecosystem, also do some DevOps stuff.",
    ],
  },
  {
    company: "Linkupcareer.id",
    position: "IT Staff",
    startDate: "April 2025",
    endDate: "December 2025",
    tasks: [
      "Managing HRM (OrangeHRM), LMS (Moodle), Internal Email, VPS, and other internal tools.",
      "Conducted user interviews for internship candidates, while also evaluating each candidate's technical, communication, and management skills.",
    ],
  },

  {
    company: "Puskesmas Pangkalbalam",
    position: "Software Developer",
    startDate: "Mar 2025",
    endDate: "Jul 2025",
    tasks: [
      "Working on a lung patient management system named SOBAT HEBAT (Sistem Informasi Pengobatan Agar Tubuh Sehat Bebas TBC) using Next JS an Nest JS.",
      "Implemented monorepo concept for the Frontend side using Nx also its remote caching using Nx Cloud, Error monitoring using Sentry, and Backend API Monitoring using Prometheus + Grafana.",
      "Implemented Progressive Web App (PWA) to make the Website easier to use and more accessible by elderly users.",
      "Wrote unit testing for the Frontend side using Vitest.",
      "Set up code formatting and linting tools like Biome, also wrote Docker multistage build configuration.",
    ],
  },
  {
    company: "Dibimbing.id",
    position: "Fullstack Engineer",
    startDate: "Sep 2024",
    endDate: "Dec 2024",
    tasks: [
      "Assisted Dibimbing Tech Team in creating an academic system for Cakrawala University.",
      "Conducted research with colleagues and advised Dibimbing Tech Team on the selection of the backend stack between Node.js and Golang for the Cakrawala University project based on some use cases.",
      "Constructed the Frontend and Backend of the project using Next JS and Go Fiber.",
      "Set up code formatting and linting tools like ESLint and Prettier, also wrote Docker multistage build configuration for the Frontend side.",
      "Played a key role in developing the shortlist registration, biodata, admin biodata verification, and maintenance condition features.",
    ],
  },
  {
    company: "Infinite Learning",
    position: "Web Development & UI/UX Design",
    startDate: "Feb 2024",
    endDate: "Jun 2024",
    tasks: [
      "Responsible as a Programmer to do market research, conducted business analysis, performed usability testing.",
      "Constructed the Frontend and Backend of the project from scratch using React JS (Frontend) and Express JS (Backend).",
      "Assisted colleagues in troubleshooting Javascript and React JS-related issues.",
    ],
  },
  {
    company: "Undisclosed",
    position: "Frontend Web Developer",
    startDate: "Nov 2023",
    endDate: "Dec 2023",
    tasks: [
      "Responsible for handling, fixing bugs, and developing requested features to the existing dashboard. The dashboard was created using React JS, Tailwind CSS, and Context API.",
      "Improve the performance of the dashboard and remove unused or redundant code.",
    ],
  },
  {
    company: "We Up Indonesia",
    position: "Frontend Web Developer",
    startDate: "Oct 2022",
    endDate: "Dec 2022",
    tasks: [
      "Responsible for slicing and building a company profile Website for We Up using Next JS, Typescript, Tailwind CSS, and AOS.",
      "Write documentation about the project and collaborate with other divisions.",
    ],
  },
];
---

<Layout
  title="Haikel Ilham Hakim"
  description="Software Developer"
  url="https://ekel.dev"
>
  <div
    class:list={[
      "flex w-full flex-col items-start justify-start",
      "md:text-start",
    ]}
  >
    <section class="w-full">
      <div
        class="slide-enter-content flex w-fit space-x-0 md:space-x-4 relative justify-start items-start"
      >
        <div>
          <h2 data-cy="name" class="mb-0! mt-0!">Fortis Fortuna Adiuvat</h2>
          <p data-cy="description" class="mb-0! mt-2 text-justify">
            Konnichiwa! I'm Haikel Ilham Hakim. You can call me <b
              >Haikel/Kel/Ekel</b
            > with the
            <b>"E"</b> pronounce is <b>"Emas"</b>. I'm a Software Developer
            based in Indonesia and familiar <b>with javascript/typescript/go</b
            >. Outside of programming, I enjoy doing photography, DIY (Do It
            Yourself) works, and learn something new. Currently, I deep dive
            into Go, DevOps, Finance, also how to deal and manage people. <a
              href="https://www.linkedin.com/in/haikel/"
              target="_blank"
              rel="noopener noreferrer">Linkedin</a
            >,
            <a
              href="https://github.com/haikelz"
              target="_blank"
              rel="noopener noreferrer">Github</a
            >
          </p>
        </div>
      </div>
    </section>
    <section data-cy="experience" class="mt-8 w-full slide-enter-content">
      <h2 class="mb-6 mt-0 font-extrabold">Experience</h2>
      <div class="space-y-5 slide-enter-content">
        {
          experienceList.map((experience) => (
            <div>
              <div class="flex w-full flex-col items-start justify-start sm:flex-row sm:items-center sm:justify-between">
                <h3 class="mb-0 mt-0">{experience.company}</h3>
                <span class="mt-1.5 rounded-xs text-base font-semibold sm:mt-0">
                  {experience.startDate} - {experience.endDate}
                </span>
              </div>
              <p class="mb-0 mt-3 sm:mt-1">{experience.position}</p>
              <ul class="!mt-3 !space-y-0 text-justify list-disc list-outside !pl-[1.1rem]">
                {experience.tasks.map((task) => (
                  <li>
                    <p class="!my-0">{task}</p>
                  </li>
                ))}
              </ul>
            </div>
          ))
        }
      </div>
    </section>
    <section data-cy="featured-works" class="mt-8 w-full slide-enter-content">
      <h2 class="mt-0 mb-6 font-extrabold">Featured Works</h2>
      <div
        class="grid w-full grid-cols-1 grid-rows-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 slide-enter-content"
      >
        {
          worksList
            .sort((a, b) => a.data.id - b.data.id)
            .slice(0, 6)
            .map((item) => (
              <Card
                title={item.data.title}
                description={item.data.description}
                thumbnail={item.data.thumbnail}
                type="works"
                slug={item.slug}
                tags={item.data.stack}
              />
            ))
        }
      </div>
    </section>
    <section data-cy="featured-notes" class="mt-8 w-full">
      <h2 class="mt-0 mb-6 font-extrabold">Latest Notes</h2>
      <div
        class="grid w-full grid-cols-1 grid-rows-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"
      >
        {
          notesList
            .sort(
              (a, b) =>
                new Date(b.data.created_at).getTime() -
                new Date(a.data.created_at).getTime()
            )
            .slice(0, 6)
            .map((item) => (
              <Card
                title={item.data.title}
                description={item.data.description}
                slug={item.slug}
                createdAt={item.data.created_at}
                tags={item.data.tags}
                type="notes"
              />
            ))
        }
      </div>
    </section>
  </div>
</Layout>
